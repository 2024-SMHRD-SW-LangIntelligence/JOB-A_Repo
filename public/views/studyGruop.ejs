<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
    .content-wrapper {
        /* 새로운 클래스 추가 */
        display: flex;
        flex: 1;
        width: 100%;
    }

    #chat-container {
        max-width: 100%;
        display: flex;
        min-height: 100%;
        /* 100vh에서 min-height로 변경 */
        flex-direction: column;
        /* 추가 */
    }

    .chat-list {
        flex: 1;
        /* 두 요소가 부모 요소 내에서 동일한 비율로 공간을 차지하도록 설정 */
        min-height: 85vh;
        max-height: 85vh;
    }

    .chat-list {
        border-right: 1px solid #ddd;
        overflow-y: auto;
        padding: 50px;
    }

    .chat-list::-webkit-scrollbar {
        width: 0;
        /* 스크롤바를 숨김 */
        height: 0;
        /* 스크롤바를 숨김 */
    }

    .chat-list {
        -ms-overflow-style: none;
        /* IE와 Edge에서 스크롤바 숨기기 */
        scrollbar-width: none;
        /* Firefox에서 스크롤바 숨기기 */
    }

    .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }

    .header-buttons {
        display: flex;
        align-items: center;
    }

    .page-title {
        font-size: 22px;
        font-weight: bold;
    }

    #createChatRoom {
        margin-right: 10px;
        background-color: #137bdd;
        color: #000;
        border: none;
        padding: 8px 12px;
        border-radius: 5px;
        font-size: 14px;
        cursor: pointer;
    }

    #searchInput {
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    .chat-room-item {
        display: flex;
        align-items: center;
        padding: 15px 0;
        border-bottom: 1px solid #f0f0f0;
        cursor: pointer;
    }

    .chat-room-info {
        flex-grow: 1;
        margin-right: 15px;
    }

    .chat-room-name {
        font-weight: bold;
        margin-bottom: 5px;
    }

    .chat-room-description {
        font-size: 14px;
        color: #888;
        margin-bottom: 5px;
    }

    .chat-room-tags {
        font-size: 12px;
        color: #3b7dd7;
    }

    .chat-room-image img {
        width: 50px;
        height: 50px;
        border-radius: 10px;
        object-fit: cover;
    }

    cssCopy.header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }

    .header-buttons {
        display: flex;
        align-items: center;
    }

    #createChatRoom {
        margin-right: 10px;
    }






</style>
<div id="chat-container">
    <div class="content-wrapper">
        <div class="chat-list">
            <div class="header-container">
                <h1 class="page-title">스터디그룹</h1>
                <div class="header-buttons">
                    <button id="createChatRoom">채팅방 만들기</button>
                </div>
            </div>
            <input type="text" id="searchInput" placeholder="채팅방 검색...">
            <div id="chatRoomsList"></div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        let chatRooms = [
            { id: 1, name: '코딩 스터디', description: '함께 코딩을 공부해요', tags: ['#코딩', '#스터디'], image: 'https://via.placeholder.com/400x200', owner: '코딩마스터' },
            { id: 2, name: '영화 토론방', description: '최신 영화에 대해 이야기 나눠요', tags: ['#영화', '#토론'], image: 'https://via.placeholder.com/400x200', owner: '영화광' },
            { id: 3, name: '맛집 탐방', description: '맛있는 식당을 공유해요', tags: ['#맛집', '#음식'], image: 'https://via.placeholder.com/400x200', owner: '미식가' },
            { id: 4, name: '맛집 탐방', description: '맛있는 식당을 공유해요', tags: ['#맛집', '#음식'], image: 'https://via.placeholder.com/400x200', owner: '미식가' },
            { id: 5, name: '맛집 탐방', description: '맛있는 식당을 공유해요', tags: ['#맛집', '#음식'], image: 'https://via.placeholder.com/400x200', owner: '미식가' },
            { id: 6, name: '맛집 탐방', description: '맛있는 식당을 공유해요', tags: ['#맛집', '#음식'], image: 'https://via.placeholder.com/400x200', owner: '미식가' },
            { id: 7, name: '코딩 스터디', description: '함께 코딩을 공부해요', tags: ['#코딩', '#스터디'], image: 'https://via.placeholder.com/400x200', owner: '코딩마스터' },
            { id: 8, name: '영화 토론방', description: '최신 영화에 대해 이야기 나눠요', tags: ['#영화', '#토론'], image: 'https://via.placeholder.com/400x200', owner: '영화광' }
        ];

        let myChatRooms = [
            { id: 1, name: '코딩 스터디', members: 5, lastMessage: '다들 오늘 스터디 준비 되셨나요?', unreadCount: 3 },
            { id: 2, name: '영화 토론방', members: 8, lastMessage: '이번 주 영화 추천 부탁드려요!', unreadCount: 0 },
        ];

        function renderChatRooms(rooms) {
            $('#chatRoomsList').empty();
            if (rooms.length === 0) {
                $('#chatRoomsList').append('<p>검색 결과가 없습니다.</p>');
            } else {
                rooms.forEach((room) => {
                    $('#chatRoomsList').append(
                        `<div class="chat-room-item" data-id="${room.id}">
                                <div class="chat-room-info">
                                    <div class="chat-room-name">${room.name}</div>
                                    <div class="chat-room-description">${room.description}</div>
                                    <div class="chat-room-tags">${room.tags.join(' ')}</div>
                                </div>
                                <div class="chat-room-image">
                                    <img src="${room.image}" alt="${room.name}">
                                </div>
                            </div>`
                    );
                });
            }
        }

        renderChatRooms(chatRooms);

        $('#createChatRoom').click(function () {
            const newRoomName = prompt('채팅방 이름');
            const newRoomDescription = prompt('채팅방 설명');
            const newRoomTags = prompt('해시태그 (쉼표로 구분)');
            const newRoomOwner = prompt('방장 이름');
            if (newRoomName && newRoomDescription && newRoomOwner) {
                const newId = chatRooms.length > 0 ? Math.max(...chatRooms.map(r => r.id)) + 1 : 1;
                chatRooms.push({
                    id: newId,
                    name: newRoomName,
                    description: newRoomDescription,
                    tags: newRoomTags.split(',').map(tag => '#' + tag.trim()),
                    image: 'https://via.placeholder.com/400x200',
                    owner: newRoomOwner
                });
                renderChatRooms(chatRooms);
            } else {
                alert('모든 정보를 입력해주세요.');
            }
        });

        $('#searchInput').on('input', function () {
            const searchTerm = $(this).val().toLowerCase();
            const filteredRooms = chatRooms.filter(room =>
                room.name.toLowerCase().includes(searchTerm) ||
                room.description.toLowerCase().includes(searchTerm) ||
                room.tags.some(tag => tag.toLowerCase().includes(searchTerm))
            );
            renderChatRooms(filteredRooms);
        });
    });


</script>