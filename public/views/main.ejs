<style>
    /* 날짜 글씨 색상을 검은색으로 설정 */
    .fc-daygrid-day-number {
      color: black;
    }

    .fc-col-header-cell-cushion {
      color: black;
    }
    .fc-day-sat .fc-daygrid-day-number {
      color: blue;
    }

    .fc-day-sun .fc-daygrid-day-number {
      color: red;
    }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var calendarEl = document.getElementById('calendar');
      var colorIndex = 0;
      var colors = ['#FF5733', '#33FF57', '#3357FF', '#F0A202', '#8A2BE2', '#FF6347'];
      var selectedStartDate, selectedEndDate;
      
      var calendar = new FullCalendar.Calendar(calendarEl, {
        locale : 'ko',
        initialView: 'dayGridMonth',
        selectable: true,
        select: function (info) {
          selectedStartDate = info.startStr;
          selectedEndDate = info.endStr;
          var eventModal = new bootstrap.Modal(document.getElementById('eventModal'));
          eventModal.show();
        },
        eventClick: function (info) {
          selectedEvent = info.event;
          var deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
          deleteModal.show();
        },
        dayCellContent: function (info){
          var number =  document.createElement("a");
          number.classList.add("fc-daygrid-day-number")
          number.innerHTML = info.dayNumberText.replace("일",'').replace("日","");
          if(info.view.type === "dayGridMonth"){
            return{
              html:number.outerHTML
            };
          }
          return{
            domNodes: []
          };
        },  
        events: []
      });
      
      calendar.render();

      document.getElementById('saveEvent').addEventListener('click', function () {
        var eventTitle = document.getElementById('eventTitle').value;
        if (eventTitle) {
          calendar.addEvent({
            title: eventTitle,
            start: selectedStartDate,
            end: selectedEndDate,
            color: colors[colorIndex % colors.length]
          });
          colorIndex++;
          var eventModal = bootstrap.Modal.getInstance(document.getElementById('eventModal'));
          eventModal.hide();
          document.getElementById('eventForm').reset();
        }
      });
      document.getElementById('confirmDelete').addEventListener('click', function () {
        if (selectedEvent) {
          selectedEvent.remove();
          var deleteModal = bootstrap.Modal.getInstance(document.getElementById('deleteModal'));
          deleteModal.hide();
        }
      });
    });
      
  </script>

  <!-- Calendar -->
  <div id='calendar' style="height: 1100px; width: 1100px; margin-left: 150px;"></div>

  <!-- Modal add-->
  <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="eventModalLabel">일정 입력</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="eventForm">
            <div class="mb-3">
              <label for="eventTitle" class="form-label">일정 제목</label>
              <input type="text" class="form-control" id="eventTitle" required>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
          <button type="button" class="btn btn-primary" id="saveEvent">저장</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal delete-->
  <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteModalLabel">일정 삭제</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>일정을 삭제하시겠습니까?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
          <button type="button" class="btn btn-danger" id="confirmDelete">삭제</button>
        </div>
      </div>
    </div>
  </div>